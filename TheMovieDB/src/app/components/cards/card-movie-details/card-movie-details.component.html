<main>
  <section class="relative block" style="height: 330px"></section>
  <section class="relative py-16 bg-blueGray-200">
    <div class="container mx-auto px-4">
      <div
        class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-64"
      >
        <div class="px-6">
          <div class="flex flex-wrap justify-center">
            <div class="w-full lg:w-3/12 px-4 lg:order-2 flex justify-center">
              <div class="relative">
                <img
                  alt="..."
                  [src]="getMovieImg()"
                  class="shadow-xl rounded h-auto align-middle border-none absolute -m-16 -ml-20 lg:-ml-16 max-w-150-px"
                />
              </div>
            </div>

            <div
              class="w-full lg:w-4/12 px-4 lg:order-3 lg:text-right lg:self-center"
            ></div>
            <div class="w-full lg:w-4/12 px-4 lg:order-1">
              <div class="flex justify-center py-4 lg:pt-4 pt-8">
                <div class="mr-4 p-3 text-center">
                  <span
                    class="text-xl font-bold block tracking-wide text-blueGray-600"
                  >
                    {{ movie.title }}
                  </span>
                  <span class="text-sm text-blueGray-400">Title</span>
                </div>
                <div class="mr-4 p-3 text-center">
                  <span
                    class="text-xl font-bold block uppercase tracking-wide text-blueGray-600"
                  >
                    {{ movie.vote_average.toFixed(2) }}/10
                  </span>
                  <span class="text-sm text-blueGray-400">Rating</span>
                </div>
                <div class="lg:mr-4 p-3 text-center">
                  <span
                    class="text-xl font-bold block uppercase tracking-wide text-blueGray-600"
                  >
                    {{ movie.vote_count }}
                  </span>
                  <span class="text-sm text-blueGray-400">Votes</span>
                </div>
              </div>
            </div>
          </div>
          <div class="text-center mt-20">
            <h3
              class="text-4xl font-semibold leading-normal mb-2 text-blueGray-700 mb-2 uppercase"
            >
              {{ movie.title }}
            </h3>
            <div
              class="text-sm leading-normal mt-0 mb-2 font-bold text-blueGray-400 uppercase"
            >
              <span class="text-black">Generos </span> &nbsp;
              <i
                *ngIf="!movie.adult"
                class="fa fa-film mr-2 text-lg text-black"
              >
              </i>

              <span *ngFor="let genre of movie.genres">
                | {{ genre.name }}
              </span>
            </div>
            <div
              [ngStyle]="{
                display: 'flex',
                'flex-wrap': 'wrap',
                'justify-content': 'space-evenly',
                'text-align': 'center'
              }"
            >
              <iframe
                style="margin-top: 20px"
                *ngFor="let video of videos | slice: 0:2"
                id="player"
                type="text/html"
                width="48%"
                height="450px"
                class="rounded"
                [src]="getVideoUrl(video)"
                frameborder="0"
              >
              </iframe>
            </div>
          </div>
          <div
            class="mt-10 py-10 border-t border-b border-blueGray-200 text-center"
          >
            <div class="flex flex-wrap justify-center">
              <div class="w-full lg:w-9/12 px-4">
                <h1 class="uppercase text-xl font-bold mb-4">Sinopsis</h1>
                <p class="mb-4 text-lg leading-relaxed text-blueGray-700">
                  {{ movie.overview }}
                </p>
                <div class="mb-2 text-blueGray-600 mt-10">
                  <i
                    class="fas fa-money-bill mr-2 text-lg text-blueGray-400"
                  ></i>
                  Budget : {{ movie.budget.toFixed(2) }} $
                </div>
                <div class="mb-2 text-blueGray-600">
                  <i class="fas fa-clock mr-2 text-lg text-blueGray-400"></i>
                  Status : {{ movie.status }}
                </div>
              </div>
            </div>
          </div>
          <div class="text-center mt-10">
            <h1 class="uppercase text-xl font-bold mb-4">Casting</h1>
            <div
              [ngStyle]="{
                display: 'flex',
                'flex-wrap': 'wrap',
                'justify-content': 'space-evenly',
                'text-align': 'center',
                'margin-bottom': '20px'
              }"
            >
              <div class="border mt-10" *ngFor="let actor of cast">
                <img
                  class="rounded-full"
                  [src]="getActorImg(actor)"
                  width="200px"
                  [ngStyle]="{margin : 'auto'}"
                  alt="Photo of an actor"
                  onerror="this.src='https://cdn-icons-png.flaticon.com/512/2748/2748558.png'"
                />
                <span class="font-bold text-xl">{{ actor.name }}</span>
                <button
                  type="button"
                  class="bg-indigo-500 my-4 text-white active:bg-indigo-600 font-bold rounded ease-linear transition-all duration-150"
                  style="width: 50%; align-self: center"
                  [routerLink]="['/admin/actor-info', actor.id]"
                >
                  MORE INFO
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
<app-footer></app-footer>
